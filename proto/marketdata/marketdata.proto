syntax = "proto3";
package marketdata;
option go_package = "github.com/abdoElHodaky/tradSys/proto/marketdata";

message MarketDataRequest {
  string symbol = 1;
  string exchange = 2;
}

message Quote {
  string symbol = 1;
  double bid = 2;
  double ask = 3;
  int64 timestamp = 4;
  string exchange = 5;
  double bid_size = 6;
  double ask_size = 7;
}

message HistoricalDataRequest {
  string symbol = 1;
  string exchange = 2;
  int64 start_time = 3;
  int64 end_time = 4;
  int32 limit = 5;
}

message QuoteList {
  repeated Quote quotes = 1;
}

service MarketDataService {
  rpc GetQuote(MarketDataRequest) returns (Quote);
  rpc SubscribeQuotes(MarketDataRequest) returns (stream Quote);
  rpc GetHistoricalData(HistoricalDataRequest) returns (QuoteList);
}

